<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>
	
  	IMLC.ME
  	
	</title>

  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

	<link href="atom.xml" rel="alternate" title="IMLC.ME" type="application/atom+xml">
	<link href="asset/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<link href="asset/stylesheets/font-awesome.min.css" media="screen, projection" rel="stylesheet" type="text/css">
	<script src="asset/javascripts/jquery.min.js"></script>
	<script src="asset/highlightjs/highlight.pack.js"></script>
	<link href="asset/highlightjs/styles/solarized_dark.css" media="screen, projection" rel="stylesheet" type="text/css">
<script>hljs.initHighlightingOnLoad();</script>

	<!--[if lt IE 9]><script src="asset/javascripts/html5.js"></script><![endif]-->
	<!-- <link href='http://fonts.googleapis.com/css?family=Nunito:400,300,700' rel='stylesheet' type='text/css'> -->
	<style type="text/css">
/* latin */
@font-face {
  font-family: 'Nunito';
  font-style: normal;
  font-weight: 300;
  src: local('Nunito-Light'), url(asset/font/1TiHc9yag0wq3lDO9cw0voX0hVgzZQUfRDuZrPvH3D8.woff2) format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215, U+E0FF, U+EFFD, U+F000;
}
/* latin */
@font-face {
  font-family: 'Nunito';
  font-style: normal;
  font-weight: 400;
  src: local('Nunito-Regular'), url(asset/font/6TbRXKWJjpj6V2v_WyRbMX-_kf6ByYO6CLYdB4HQE-Y.woff2) format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215, U+E0FF, U+EFFD, U+F000;
}
/* latin */
@font-face {
  font-family: 'Nunito';
  font-style: normal;
  font-weight: 700;
  src: local('Nunito-Bold'), url(asset/font/TttUCfJ272GBgSKaOaD7KoX0hVgzZQUfRDuZrPvH3D8.woff2) format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215, U+E0FF, U+EFFD, U+F000;
}
	</style>

	<style type="text/css">
	.container .left-col{ opacity: 1;}
	#pagenavi a{ font-size: 1.3em;}
	#pagenavi .next:before{ top: 3px;}
	#pagenavi .prev:before{ top: 3px;}
	#projects-nav {margin-left: 10px;}
	#projects-nav li {
		list-style: none;
	}

	.container .mid-col .mid-col-container #content .archives .title{ font-size: 1.5em;}
	.container .mid-col .mid-col-container #content article{ padding: 15px 0px;}

	#header .subtitle {
		line-height: 1.2em;
		padding-top: 8px;
	}
	article pre{ background: none; border: none; padding: 0;}
	article .entry-content{text-align: left;}
	.share-comment{ padding: 25px 0px; clear: both;}
	hr{ margin: 20px 0px;border: 0; border-top:solid 1px #ddd;}
	</style>


</head>


<body>
	<div class="container">
		<div class="left-col">
			<div class="intrude-less">
				<header id="header" class="inner">
				 
				 	<div class="profilepic">
						<img src="/asset/icon.jpg" style="width:160px;">
					</div>
            	

					<h1><a href="index.html">IMLC.ME</a></h1>
					<p class="subtitle"></p>
					<nav id="main-nav">
						<ul class="main">
						
						  <li id=""><a target="self" href="index.html">Home</a></li>
						
						  <li id=""><a target="_self" href="archives.html">Archives</a></li>
						
						</ul>
					</nav>

					<nav>
						My Projects
						<ul id="projects-nav">

						</ul>
					</nav>

					<nav id="sub-nav">
						<div class="social">










<a target="_blank" class="github" target="_blank" href="https://github.com/lawrenceching" title="GitHub">GitHub</a>




								<a class="rss" href="atom.xml" title="RSS">RSS</a>

						</div>
					</nav>
				</header>
			</div>
		</div>
		<div class="mid-col">
			<div class="mid-col-container">
 <div id="content" class="inner">
<div itemscope itemtype="http://schema.org/Blog">


	<article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
		<div class="meta">
			<div class="date">
				<time datetime="2016-09-27T18:17:56+08:00" itemprop="datePublished">2016/9/27</time>
			</div>
			<div class="tags">posted in 
			
			    <a class='category' href='ios.html'>iOS</a>&nbsp;
			 
			</div>
		</div>
		<h1 class="title" itemprop="name"><a href="14749714760995.html" itemprop="url">
		UILabel 图标保持比例缩放</a></h1>
		<div class="entry-content" itemprop="articleBody">
			
			<p>Just set that:</p>

<pre><code>button.imageView?.contentMode = .ScaleAspectFit
</code></pre>

<hr/>

<p>TAG: iOS, Xcode, UILabel, UIButton, image, icon, ScaleAspectFit, Adjust</p>


			
			
		</div>

	</article>
 
	<article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
		<div class="meta">
			<div class="date">
				<time datetime="2016-09-27T18:17:56+08:00" itemprop="datePublished">2016/9/27</time>
			</div>
			<div class="tags">posted in 
			
			    <a class='category' href='android.html'>Android</a>&nbsp;
			 
			</div>
		</div>
		<h1 class="title" itemprop="name"><a href="14749714762202.html" itemprop="url">
		MX4 PRO DDMS 无法访问data文件夹</a></h1>
		<div class="entry-content" itemprop="articleBody">
			
			<ol>
<li><p>开启手机的Root权限。（开放Root权限会失去保修，慎重考虑）</p></li>
<li><p>在 Terminal 下定位到 sdk/platform-tools 文件夹下，运行</p></li>
</ol>

<pre><code>su
chmod 777 /data
</code></pre>

<p>因为 adb shell 的无法添加-R参数递归修改权限，所以用adb必须要一级一级文件夹修改权限，而且...我运行chmod后提示“Unable to chmod /data: Operation not permitted ”。所以..</p>

<ol>
<li>下载 Root Explorer，直接递归修改整个/data文件夹， done!</li>
</ol>


			
			
		</div>

	</article>
 
	<article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
		<div class="meta">
			<div class="date">
				<time datetime="2016-09-27T18:17:56+08:00" itemprop="datePublished">2016/9/27</time>
			</div>
			<div class="tags">posted in 
			
			    <a class='category' href='android.html'>Android</a>&nbsp;
			 
			</div>
		</div>
		<h1 class="title" itemprop="name"><a href="14749714762373.html" itemprop="url">
		Mac ADB 环境变量配置</a></h1>
		<div class="entry-content" itemprop="articleBody">
			
			<h3 id="toc_0">1. 记录 adb 所在目录位置</h3>

<p> 记住自己adb 程序的目录位置，如在我的电脑中是：/Users/android-sdk-macosx/platform-tools/</p>

<h3 id="toc_1">2. 创建 .bash_profile 文件</h3>

<p> terminal 中输入</p>

<pre><code>touch .bash_profile
</code></pre>

<h3 id="toc_2">3. 打开 .bash_profile 文件</h3>

<pre><code>open -e .bash_profile
</code></pre>

<p>该命令会自动打开文本编辑器。</p>

<p>(1) 如果你发现里面已经有内容了，请在 PATH 后面添加  </p>

<p><code>:/Users/android-sdk-macosx/platform-tools/</code>  </p>

<p>包括最前面的英文状态下的冒号。如果 PATH 后面的路径被双引号括了起来，那么请把上面这句添加到双引号的里面。</p>

<p>(2) 如果你打开的文件是空白的，请输入<br/><br/>
 <code>export PATH=${PATH}:/Users/android-sdk-macosx/platform-tools/</code>  </p>

<p>保存后关闭。</p>

<h3 id="toc_3">4. 添加环境变量</h3>

<pre><code>source .bash_profile
</code></pre>

<h3 id="toc_4">5. 在终端输入 adb，在设置正常的情况下会弹出一大堆的adb 使用提示。</h3>


			
			
		</div>

	</article>
 
	<article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
		<div class="meta">
			<div class="date">
				<time datetime="2016-09-27T18:17:56+08:00" itemprop="datePublished">2016/9/27</time>
			</div>
			<div class="tags">posted in 
			
			    <a class='category' href='android.html'>Android</a>&nbsp;
			 
			</div>
		</div>
		<h1 class="title" itemprop="name"><a href="14749714762416.html" itemprop="url">
		MX4 PRO 无法连接 adb 问题的解决办法</a></h1>
		<div class="entry-content" itemprop="articleBody">
			
			<p>死坑死坑，新买的手机竟然不能用来调试。今天终于被我查到解决办法了（应该说终于有大神写的解决办法被收录然后被我查到了）。<br/>
ps:本解决办法同样适用于 MX4 &amp; 魅蓝</p>

<p>在 Mac 下，修改 adb_usb.ini 文件（Mac 是在/Users/[username]/.android/adb_usb.ini 目录下，username 即是你的用户名；Windows 是在/Users/user/.android 目录下），往里面添加新的一行<br/>
<strong>0x2a45</strong><br/>
<img src="http://7xt24f.com1.z0.glb.clouddn.com/2016-04-25-adb_usb.ini.png" alt="adb_usb.ini"/></p>

<p>保存退出。<br/>
在命令行下依次输入：</p>

<pre><code>adb kill-server
adb devices
</code></pre>

<p>这时会显示<br/>
<img src="http://7xt24f.com1.z0.glb.clouddn.com/2016-04-25-terminal_adb_devices.png" alt="terminal_adb_devices"/></p>

<p>此时，adb 识别到手机，但是提示未认证。<br/>
在点亮手机屏幕的情况下，用 adb 连接手机，手机会提示你认证这台电脑，确认即可。<br/>
 <br/>
如果输入 adb 显示 command not found，这表示你的Mac 上未配置 adb 环境变量。<br/>
可以参考<a href="/532.html">我的另一篇博文</a>进行配置。<br/>
 <br/>
参考：<br/>
<a href="http://blog.csdn.net/wispy316/article/details/43022349">wispy316的专栏</a></p>


			
			
		</div>

	</article>
 
	<article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
		<div class="meta">
			<div class="date">
				<time datetime="2016-09-27T18:17:56+08:00" itemprop="datePublished">2016/9/27</time>
			</div>
			<div class="tags">posted in 
			
			    <a class='category' href='ios.html'>iOS</a>&nbsp;
			 
			</div>
		</div>
		<h1 class="title" itemprop="name"><a href="14749714762507.html" itemprop="url">
		[Swift] Convert custom class to NSData</a></h1>
		<div class="entry-content" itemprop="articleBody">
			
			<p>It&#39;s necessary to convert custom object to NSData when using NSUserDefaults or NSKeyedArchiver. Furthermore, a dictionary or an array with custom class.</p>

<p>Here shows steps to do it.</p>

<h5 id="toc_0">1. Define your class</h5>

<pre><code>class Book: NSObject, NSCoding {
    var id:Int
    var name:String?
    var author:String?
    
    private static let KeyId = &quot;key_id&quot;
    private static let KeyName = &quot;key_name&quot;
    private static let KeyAuthor = &quot;key_author&quot;
    
    init(id: Int){
        self.id = id
    }
    
    required init? (coder aDecoder: NSCoder){
        self.id = aDecoder.decodeIntegerForKey(Book.KeyId)
        self.name = aDecoder.decodeObjectForKey(Book.KeyName) as? String
        self.author = aDecoder.decodeObjectForKey(Book.KeyAuthor) as? String
    }
    
    func encodeWithCoder(aCoder: NSCoder) {
        aCoder.encodeInteger(id, forKey: Book.KeyId)
        aCoder.encodeObject(name, forKey: Book.KeyName)
        aCoder.encodeObject(author, forKey: Book.KeyAuthor)
    }
}
</code></pre>

<p>You must extend your class from NSObject and implement the NSCoding protocal. Thus, you get <code>init(coder:)</code> and <code>encodeWithCoder(aCode:)</code></p>

<h5 id="toc_1">2. Save data</h5>

<pre><code>let book = Book(id: 1)
book.name = &quot;The first book&quot;
book.author = &quot;IMLC.ME&quot;

let book2 = Book(id:2)
book.name = &quot;The second book&quot;
book.author = &quot;IMLC.ME&quot;

let books = [book, book2]

let ud = NSUserDefaults.standardUserDefaults()
ud.setObject(NSKeyedArchiver.archivedDataWithRootObject(book), forKey: &quot;book&quot;)
ud.setObject(NSKeyedArchiver.archivedDataWithRootObject(book), forKey: &quot;book-array&quot;)
</code></pre>

<p>The code above shows how to save <code>book</code> and <code>books</code> (an array) into NSUserDefaults.</p>

<h5 id="toc_2">3. Restore data</h5>

<pre><code>if let bookData = ud.objectForKey(&quot;book&quot;) as? NSData,
    let bookArrayData = ud.objectForKey(&quot;book-array&quot;) as? NSData{
    let restoredBook = NSKeyedUnarchiver.unarchiveObjectWithData(bookData) as? Book
    let restoredBookArray = NSKeyedUnarchiver.unarchiveObjectWithData(bookArrayData) as? [Book]
    
    print(&quot;Restored book \(restoredBook.name!) and book array [\(restoredBookArray[0].name!),\(restoredBookArray[1].name!)]&quot;)
}
</code></pre>

<hr/>

<p>Saving and loading data with swift dictionary is very similar to array, I wouldn&#39;t give an another sample here.</p>

<p>TAG: Swift, NSData, Convert, Custom class</p>


			
			
		</div>

	</article>
 
	<article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
		<div class="meta">
			<div class="date">
				<time datetime="2016-09-27T18:17:56+08:00" itemprop="datePublished">2016/9/27</time>
			</div>
			<div class="tags">posted in 
			
			    <a class='category' href='others.html'>Others</a>&nbsp;
			 
			</div>
		</div>
		<h1 class="title" itemprop="name"><a href="14749714762605.html" itemprop="url">
		对国产网盘不能放心，加个密再与网盘同步</a></h1>
		<div class="entry-content" itemprop="articleBody">
			
			<p>最近网盘行业风波不断，网盘供应商不是停止服务就是限制服务。当年网盘风头莫名其妙刮了起来，各大互联网公司用了疯狂赠送空间，不要钱地去推广，换来了今天人走茶凉，继续运营没有盈利，停止运营对不起用户的尴尬状况。国内的市场真的很浮躁，当年的网盘、微博、手游，现在的可穿戴设备、直播，土豪们一掷千金抢占市场，然后把整个行业给玩坏了。</p>

<p>国内的巨头们鲜有老老实实做生意的，百度尤甚。当初因巨额的空间入了百度网盘的坑。把图片、视频、镜像文件等大尺寸资源备份到百度网盘；word、pdf、各种使用频率高而Size不大的文件同步到坚果云。之前一段时间用得是相当舒心。但是现在，由于最近的网盘整顿风波，加之发现百度网盘可以未经允许读取用户文件（老司机跟我说现在百度下不了小电影了，个人空间上的小电影会被百度检查出来），决定还是要逐步脱坑。</p>

<p>想来百度要死也不会在这几天死，先解决隐私问题。</p>

<h4 id="toc_0">使用 VeraCrypt 创建虚拟加密磁盘</h4>

<p>逛异次元的时候看到了这篇文章（<a href="http://www.iplaysoft.com/veracrypt.html">VeraCrypt - 最佳免费开源跨平台的文件加密工具 (支持U盘加密/硬盘分区加密)</a>），发现这是一个很不错的解决方案。</p>

<p>VeraCrypt 会在电脑上创建一个虚拟的加密磁盘，该虚拟磁盘以单个文件的形式保存在本地硬盘上。使用各网盘的同步工具可以很轻松地同步整个虚拟磁盘。而需要访问该虚拟磁盘的时候，挂在该虚拟磁盘文件，输入密码，即刻执行文件的增删查改操作。VeraCrypt 为加密而生，AES 的加密强度还是让人放心。</p>

<p>使用 VeraCrypt 创建加密磁盘的方法只略微增加了操作步骤，但是极大地提高了文件安全性，再也不用担心网盘供应商随意浏览你的文件了。同时，我们可以只把需要保密的文件丢入磁盘中，而电影、音乐、软件安装包等大文件，而且又不担心别人访问的资源，可以直接同步而不放入加密磁盘。这样因为加密而带来的不便就大大减少了。<br/>
（某度没节操也不是一两天了，想着自己同步到网盘的文件被内部员工随意浏览，哪天出BUG了外部人员可以随意访问用户文件，或者某度又为了利益出卖了用户，种种的“意外”我就不得安心）。</p>

<p>另外，VeraCrypt 提供了密钥、加密文件等多种验证方法，同时可以添加对整个硬盘加密或者对U盘加密，根据需要可以加密电脑上的其他文件。毕竟电脑只要联网，就有可能被入侵。还是要提高一下安全意识。</p>

<h4 id="toc_1">使用 OS X 系统内置的加密DMG磁盘文件功能</h4>

<p>如果只有简单的加密需求，其实系统内置的 DMG 磁盘文件功能更加方便。&quot;.dmg&quot; 文件相信大家都不陌生，dmg 文件常见于应用安装包。开发者将应用的可运行文件打包到虚拟磁盘中，供用户下载。用户下载到电脑上，直接双击挂载磁盘，即可访问虚拟磁盘中的文件。</p>

<p>DMG 文件是可以加密的。如果我们使用加密的 DMG文件来保存我们的隐私文件，由于系统本身对该文件的支持，我们会获得比 VeraCrypt 更好的体验。</p>

<h5 id="toc_2">Step 1: 创建一个空白映像文件</h5>

<p>打开 Disk Utility (磁盘工具) 应用，按下 &quot;⌘N&quot; （或者点击菜单栏的文件 -&gt; 新建映像 -&gt; 空白映像）。</p>

<p><img src="http://7xt24f.com1.z0.glb.clouddn.com/2016-05-18-14635059507271.jpg" alt=""/></p>

<p>加密方法可以选择 AES128 或 AES256，看个人喜好。</p>

<p>映像格式需要解释一下。可选的格式有稀疏磁盘映像、读/写磁盘映像 和 DVD/CD 主映像。DVD那个不用管，读/写磁盘映像即是我们下载应用安装包的那个格式（.dmg），其实有可读写和只读两种形式。磁盘大小在创建时确定，此后不可变。</p>

<p>而稀疏磁盘映像则是创建后磁盘大小可以根据磁盘储存文件的大小来动态调整（初次生成时，磁盘文件为创建时指定的文件大小。在挂载卸载后，磁盘随即调整自身尺寸）。该格式被用于系统自带的磁盘加密 FileVault 功能。</p>

<p>而稀疏捆绑磁盘映像，该格式被用于 Time Machine 。更适用于文件备份。<br/>
（其实我也不是很懂，具体请参考<a href="https://zh.wikipedia.org/wiki/%E7%A8%80%E7%96%8F%E7%A3%81%E7%9B%98%E6%98%A0%E5%83%8F">wikipedia-稀疏磁盘映像</a>）。</p>

<p>显然，我们应该选稀疏磁盘映像，至于捆不捆绑，我觉得无所谓了。</p>

<h5 id="toc_3">挂载该加密的磁盘文件</h5>

<p>双击刚才创建的虚拟磁盘文件，按照系统提示输入密码，即可访问该磁盘。如果你启用了 KeyChain，那么系统会提示你是否保存密码。如果你保存了密码，下次挂载该磁盘，系统会自动读取密码，避免手动输入。</p>

<p>为了方便，我选择了保存密码，酱紫我在本机就可以像未加密映像一样使用了。毕竟我只想我的文件在同步到网盘后不会被其他人读取而已。</p>

<h5 id="toc_4">移动磁盘文件到自动同步目录</h5>

<p>聪明的人在创建时即保存到同步目录了。不聪明的我们，事后把文件转移到百度云同步盘、坚果云同步盘、OneDrive、iCloud Drive 或 Dropbox。</p>

<hr/>

<p>TAG: 网盘, 加密, 同步, 稀疏磁盘映像</p>


			
			
		</div>

	</article>
 
	<article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
		<div class="meta">
			<div class="date">
				<time datetime="2016-09-27T18:17:56+08:00" itemprop="datePublished">2016/9/27</time>
			</div>
			<div class="tags">posted in 
			
			    <a class='category' href='others.html'>Others</a>&nbsp;
			 
			</div>
		</div>
		<h1 class="title" itemprop="name"><a href="14749714762962.html" itemprop="url">
		Alfred 拼音搜索</a></h1>
		<div class="entry-content" itemprop="articleBody">
			
			<p>可能因为水土不服的原因，Alfred 的中文拼音搜索真的不如英文搜索好用。在全英环境下几乎完美的搜索体验在中英混合的情况下还是有点小不舒心。Alfred 的拼音搜索需要特殊的小技巧：</p>

<p>先输入<code>&#39;</code>（或者空格，将会自动转换成<code>&#39;</code>），然后输入拼音。各个字的拼音之间需要用空格分开。</p>

<p>但是即使这样，仍然会有搜索出错或者搜索不到的情况。：（<br/>
相比之下，Spotlight 的拼音搜索就好很多了。还是不能使用 Alfred 完全代替 Spotlight 啊 T,T</p>


			
			
		</div>

	</article>
 
	<article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
		<div class="meta">
			<div class="date">
				<time datetime="2016-09-27T18:17:56+08:00" itemprop="datePublished">2016/9/27</time>
			</div>
			<div class="tags">posted in 
			
			    <a class='category' href='ios.html'>iOS</a>&nbsp;
			 
			</div>
		</div>
		<h1 class="title" itemprop="name"><a href="uiwebview-in-navigation-controller.html" itemprop="url">
		UIWebView in Navigation Controller</a></h1>
		<div class="entry-content" itemprop="articleBody">
			
			<p>I embeded my common view controller which contains a UIWebView in navigation controller. Before I do that, my UIWebView worked prefectly. After that, a blank area places both above and under my html content.</p>

<p><img src="media/14689440398591/14689449100296.jpg" alt=""/></p>


			
			
		</div>

	</article>
 
	<article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
		<div class="meta">
			<div class="date">
				<time datetime="2016-09-27T18:17:55+08:00" itemprop="datePublished">2016/9/27</time>
			</div>
			<div class="tags">posted in 
			
			    <a class='category' href='others.html'>Others</a>&nbsp;
			 
			</div>
		</div>
		<h1 class="title" itemprop="name"><a href="14749714759806.html" itemprop="url">
		[OS X] 使用 Alfred 快捷键打开应用程序</a></h1>
		<div class="entry-content" itemprop="articleBody">
			
			<p>写着写着代码，终于忍受不了在Xcode、Emulator、Chrome、Dash等应用中切来切去的麻烦。Dock栏可不是那么好点的。于是花了一段时间查找Mac上有哪些App可以实现快捷键切换应用程序。<br/>
最后，终于挑定了一款应用的时候，突然想起来 Alfred 来。于是尝试了一下，效果完美。</p>

<p><strong>Alfred 无愧神器之名：）</strong></p>

<hr/>

<h5 id="toc_0">Step 1: Create Blank Workflow</h5>

<p>Add a blank workflow, fill the name, description and other field Alfred required.</p>

<h5 id="toc_1">Step 2: Add Hotkey Trigger</h5>

<p>Click the &quot;+&quot; button on the upper right, select the Trigger -&gt; Hotkey. Now a new window shows, type the Hotkey you want to use.</p>

<h5 id="toc_2">Step 3: Add Action</h5>

<p>Click the &quot;+&quot; button, this time select the Action -&gt; Launch Apps/ Files. Drop the app you want to open from Finder to Alfred.</p>

<h5 id="toc_3">Step 4: Link the Trigger to the Action</h5>

<p>Link the hotkey trigger to the launch apps action. Done!</p>

<p><img src="http://7xt24f.com1.z0.glb.clouddn.com/2016-05-16-14633883160356.jpg" alt="A workflow to trigger the chrome and xcode"/></p>

<p>最终效果是，在 Chrome 还没有打开的情况下，将启动 Chrome。如果 Chrome 已经启动，则切换到 Chrome。</p>


			
			
		</div>

	</article>
 
	<article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
		<div class="meta">
			<div class="date">
				<time datetime="2016-09-27T18:17:55+08:00" itemprop="datePublished">2016/9/27</time>
			</div>
			<div class="tags">posted in 
			
			    <a class='category' href='ios.html'>iOS</a>&nbsp;
			 
			</div>
		</div>
		<h1 class="title" itemprop="name"><a href="14749714759843.html" itemprop="url">
		[Swift] Convert custom class to NSData</a></h1>
		<div class="entry-content" itemprop="articleBody">
			
			<p>It&#39;s necessary to convert custom object to NSData when using NSUserDefaults or NSKeyedArchiver. Furthermore, a dictionary or an array with custom class.</p>

<p>Here shows steps to do it.</p>

<h5 id="toc_0">1. Define your class</h5>

<pre><code>class Book: NSObject, NSCoding {
    var id:Int
    var name:String?
    var author:String?
    
    private static let KeyId = &quot;key_id&quot;
    private static let KeyName = &quot;key_name&quot;
    private static let KeyAuthor = &quot;key_author&quot;
    
    init(id: Int){
        self.id = id
    }
    
    required init? (coder aDecoder: NSCoder){
        self.id = aDecoder.decodeIntegerForKey(Book.KeyId)
        self.name = aDecoder.decodeObjectForKey(Book.KeyName) as? String
        self.author = aDecoder.decodeObjectForKey(Book.KeyAuthor) as? String
    }
    
    func encodeWithCoder(aCoder: NSCoder) {
        aCoder.encodeInteger(id, forKey: Book.KeyId)
        aCoder.encodeObject(name, forKey: Book.KeyName)
        aCoder.encodeObject(author, forKey: Book.KeyAuthor)
    }
}
</code></pre>

<p>You must extend your class from NSObject and implement the NSCoding protocal. Thus, you get <code>init(coder:)</code> and <code>encodeWithCoder(aCode:)</code></p>

<h5 id="toc_1">2. Save data</h5>

<pre><code>let book = Book(id: 1)
book.name = &quot;The first book&quot;
book.author = &quot;IMLC.ME&quot;

let book2 = Book(id:2)
book.name = &quot;The second book&quot;
book.author = &quot;IMLC.ME&quot;

let books = [book, book2]

let ud = NSUserDefaults.standardUserDefaults()
ud.setObject(NSKeyedArchiver.archivedDataWithRootObject(book), forKey: &quot;book&quot;)
ud.setObject(NSKeyedArchiver.archivedDataWithRootObject(book), forKey: &quot;book-array&quot;)
</code></pre>

<p>The code above shows how to save <code>book</code> and <code>books</code> (an array) into NSUserDefaults.</p>

<h5 id="toc_2">3. Restore data</h5>

<pre><code>if let bookData = ud.objectForKey(&quot;book&quot;) as? NSData,
    let bookArrayData = ud.objectForKey(&quot;book-array&quot;) as? NSData{
    let restoredBook = NSKeyedUnarchiver.unarchiveObjectWithData(bookData) as? Book
    let restoredBookArray = NSKeyedUnarchiver.unarchiveObjectWithData(bookArrayData) as? [Book]
    
    print(&quot;Restored book \(restoredBook.name!) and book array [\(restoredBookArray[0].name!),\(restoredBookArray[1].name!)]&quot;)
}
</code></pre>

<hr/>

<p>Saving and loading data with swift dictionary is very similar to array, I wouldn&#39;t give an another sample here.</p>

<p>TAG: Swift, NSData, Convert, Custom class</p>


			
			
		</div>

	</article>
  

</div>
<nav id="pagenavi">
	 <a class="prev" href="all_1.html">Prev</a>  
	
	<div class="center"><a href="archives.html">Blog Archives</a></div>

</nav>

</div>



        </div>
			<footer id="footer" class="inner">Copyright &copy; 2018
Powered by <a target="_blank" href="http://www.mweb.im">MWeb</a> &nbsp;&nbsp; 
Theme by <a href="http://shashankmehta.in/archive/2012/greyshade.html">Shashank Mehta</a>
      </footer>
		</div>
	</div>

  
    


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-57304811-3', 'auto');
  ga('send', 'pageview');

</script>
</body>
</html>
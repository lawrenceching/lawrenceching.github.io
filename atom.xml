<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[IMLC.ME]]></title>
  <link href="http://www.imlc.me/atom.xml" rel="self"/>
  <link href="http://www.imlc.me/"/>
  <updated>2018-11-04T19:50:43+08:00</updated>
  <id>http://www.imlc.me/</id>
  <author>
    <name><![CDATA[]]></name>
    
  </author>
  <generator uri="http://www.coderforart.com/">CoderForArt</generator>

  
  <entry>
    <title type="html"><![CDATA[QCon 2018 Shanghai - Frontend Practice in Ant Financial]]></title>
    <link href="http://www.imlc.me/QCon-2018-Shanghai-Frontend-Practice-in-Ant-Financial.html"/>
    <updated>2018-11-06T22:13:35+08:00</updated>
    <id>http://www.imlc.me/QCon-2018-Shanghai-Frontend-Practice-in-Ant-Financial.html</id>
    <content type="html"><![CDATA[
<blockquote>
<p>This presentation is shared by <a href="https://2018.qconshanghai.com/presentation/817">QConä¸Šæµ·2018|å…¨çƒè½¯ä»¶å¼€å‘å¤§ä¼š</a><br/><br/>
You can download the PPT from <a href="http://ppt.geekbang.org/slide/download?cid=33&amp;pid=1816">å¤§ä¼šæ¼”è®²PPTåˆé›†</a>  </p>
</blockquote>

<h2 id="toc_0">Business Nature</h2>

<ul>
<li>Mobile is the first priority</li>
<li>Stable backend model, flexible frontend presentation</li>
<li>High Stability for business</li>
</ul>

<h2 id="toc_1">Frontend Architecture</h2>

<p>Below graph display the history of frontend architecture in Ant Financial.<img src="media/15415136154959/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-11-04%20%E4%B8%8B%E5%8D%889.10.29.png" alt="å±å¹•å¿«ç…§ 2018-11-04 ä¸‹åˆ9.10.29"/></p>

<p><img src="media/15415136154959/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-11-04%20%E4%B8%8B%E5%8D%8810.26.07%20-%20translated.png" alt="å±å¹•å¿«ç…§ 2018-11-04 ä¸‹åˆ10.26.07 - translated"/></p>

<p>The frontend needs to be served in multiple channels. Not only traditional web UI, but also Little Program/H5 in various apps.  Below graph introduces you how Ant Finance releases its change from source code to production.</p>

<p><img src="media/15415136154959/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-11-05%20%E4%B8%8B%E5%8D%8810.07.13.png" alt="å±å¹•å¿«ç…§ 2018-11-05 ä¸‹åˆ10.07.13"/></p>

<p>How to process offline H5 page</p>

<p><img src="media/15415136154959/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-11-05%20%E4%B8%8B%E5%8D%8810.10.21.png" alt="å±å¹•å¿«ç…§ 2018-11-05 ä¸‹åˆ10.10.21"/></p>

<p>Itâ€™s quite important these years to provide your service In-App. We have two ways channel (In China - Lawrence):<br/>
1. Little Program<br/>
Lightweight HTML app designs for running inside giant app like Wechat, Taobao, Alipay. Very similar to PWA. Little Program can access native function like using camera which Wechat will be a bridge  for that.<br/>
2. H5<br/>
H5 stands for HTML 5 web page. When people compare it with Little Program, H5 represents the HTML 5 web app which will be loaded by WebView(embedded browser in native app).</p>

<p><img src="media/15415136154959/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-11-05%20%E4%B8%8B%E5%8D%8810.20.22.png" alt="å±å¹•å¿«ç…§ 2018-11-05 ä¸‹åˆ10.20.22"/></p>

<p>Below image shows the differences of development for H5, Little Program and PC Web Page.</p>

<p><img src="media/15415136154959/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-11-05%20%E4%B8%8B%E5%8D%8810.40.24.png" alt="å±å¹•å¿«ç…§ 2018-11-05 ä¸‹åˆ10.40.24"/></p>

<p>As the business grows, itâ€™s a big challenge to develop the service. In a tradition frontend architecture model, UX API changes frequently, however service API is stable relatively. The question is, our API should be UI-oriented or should be generic.</p>

<p>And the answer is, Backend For Frontend(aka BFF).<br/>
<img src="media/15415136154959/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-11-05%20%E4%B8%8B%E5%8D%8810.46.57.png" alt="å±å¹•å¿«ç…§ 2018-11-05 ä¸‹åˆ10.46.57"/></p>

<p>In a tradition model, we basically have 3 layers: UI, business service, then infrastructure. <br/>
In BFF model, we still have 3 layers, the differences are:<br/>
In the 2nd layer, now we have BFFs which are designed for UI. BFF provides  API that perfectly fit to UI. And we can have multiple BFF services designed for individual clients.<br/>
In the 3rd layer, we move Business Layer down. We treat Business Layer as some kind of infrastructure that provides generic business API. </p>

<p><img src="media/15415136154959/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-11-05%20%E4%B8%8B%E5%8D%8811.44.36.png" alt="å±å¹•å¿«ç…§ 2018-11-05 ä¸‹åˆ11.44.36"/></p>

<p>In general, frontend and BFF development are completed by the same developer. From the development of employee point of view, there are some benefits:<br/>
1. Frontend developer has the opportunity to learn server side development skills<br/>
2. Expand the scope of knowledge<br/>
3. Improve communication skills<br/>
4. More reasonable division of labor</p>

<blockquote>
<p>Following content is the open source solution Ant Finance creates. I would not repeat it, instead, I will paste the url links to GitHub or official home page.  </p>
</blockquote>

<h3 id="toc_2">Egg.js</h3>

<p><a href="https://github.com/eggjs/egg/">GitHub - eggjs/egg: ğŸ¥š Born to build better enterprise frameworks and apps with Node.js &amp; Koa</a><br/>
<a href="https://eggjs.org/en/index.html">egg - Born to build better enterprise frameworks and apps</a></p>

<p><a href="https://github.com/eggjs/awesome-egg">GitHub - eggjs/awesome-egg: Awesome Egg.js Web Framework and Plugin.</a></p>

<p>Egg.js is a Node.js web development framework. It provides enterprise level features to speed up the development. Itâ€™s the core to BFF.</p>

<p>Itâ€™s worth to highlight that Egg.js is not only a web framework. Itâ€™s a solution to develop, build, run, monitor and maintain your Node.js application in production environment. For example, Egg.js embeds in a security mechanism to avoid security problem systematically, we all know that developer is not trustable: <a href="https://eggjs.org/en/core/security.html">Security - Born to build better enterprise frameworks and apps</a>.<br/>
And Egg.js provides a solution to run application in cluster:<br/>
<a href="https://eggjs.org/en/advanced/cluster-client.html">Multi-Process Development Model Enhancement - Born to build better enterprise frameworks and apps</a>.</p>

<p>Worth to have a look even if youâ€™re not a fan to Egg.js itself.</p>

<h3 id="toc_3">sofa-rpc and sofa-rpc-node</h3>

<p><a href="https://github.com/alipay/sofa-rpc">GitHub - alipay/sofa-rpc: SOFARPC is a high-performance, high-extensibility, production-level Java RPC  framework.</a></p>

<p><a href="https://github.com/alipay/sofa-rpc-node">GitHub - alipay/sofa-rpc-node: SOFARPC Node is a high-performance, high-extensibility, production-level Nodejs RPC framework.</a></p>

<ul>
<li>Supports multiple language</li>
<li>Automated serialization and deserialization</li>
<li>Transparent to developer to call JavaScript from Java or call Java from JavaScript</li>
<li>Support ProtoBuf and Hessian</li>
</ul>

<h2 id="toc_4">High Quality Development</h2>

<h3 id="toc_5">Development Steps</h3>

<p><img src="media/15415136154959/%E2%80%9C%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-11-06%20%E4%B8%8B%E5%8D%889.19.13%E2%80%9D%E7%9A%84%E5%89%AF%E6%9C%AC.png" alt="â€œå±å¹•å¿«ç…§ 2018-11-06 ä¸‹åˆ9.19.13â€çš„å‰¯æœ¬"/></p>

<h3 id="toc_6">Development Management</h3>

<p><img src="media/15415136154959/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-11-06%20%E4%B8%8B%E5%8D%889.44.18.png" alt="å±å¹•å¿«ç…§ 2018-11-06 ä¸‹åˆ9.44.18"/></p>

<h3 id="toc_7">Change Management</h3>

<ul>
<li>Should be able to <strong>gated launch</strong></li>
<li>Should be able to <strong>monitor</strong></li>
<li>Should be able to <strong>roll back</strong>
<img src="media/15415136154959/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-11-06%20%E4%B8%8B%E5%8D%889.49.18.png" alt="å±å¹•å¿«ç…§ 2018-11-06 ä¸‹åˆ9.49.18"/></li>
</ul>

<h3 id="toc_8">Monitor</h3>

<h4 id="toc_9">Backend Monitor</h4>

<p><img src="media/15415136154959/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-11-06%20%E4%B8%8B%E5%8D%889.56.02.png" alt="å±å¹•å¿«ç…§ 2018-11-06 ä¸‹åˆ9.56.02"/></p>

<h4 id="toc_10">Frontend Monitor</h4>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[QCon 2018 Shanghai - Serverless and AWS Lambda Service]]></title>
    <link href="http://www.imlc.me/qcon2018-shanghai-serverless-aws-lambda.html"/>
    <updated>2018-11-04T19:50:03+08:00</updated>
    <id>http://www.imlc.me/qcon2018-shanghai-serverless-aws-lambda.html</id>
    <content type="html"><![CDATA[
<blockquote>
<p>Below content is shared by <a href="https://2018.qconshanghai.com/presentation/1292">QConä¸Šæµ·2018|å…¨çƒè½¯ä»¶å¼€å‘å¤§ä¼š</a><br/>
You can download the PPT from: <a href="http://ppt.geekbang.org/slide/download?cid=33&amp;pid=1703">å¤§ä¼šæ¼”è®²PPTåˆé›†</a></p>

<p>To be honest, you can find everything in AWS Lambda home page:<br/>
<a href="https://aws.amazon.com/lambda/?nc1=h_ls">AWS Lambdaäº‘è®¡ç®—æœåŠ¡ä»‹ç»_å¦‚ä½•ä½¿ç”¨AWS Lambda-AWSäº‘æœåŠ¡</a></p>
</blockquote>

<p>What is Serverless? Serverless let you run code without thinking about servers. You donâ€™t need to manage your physical server anymore. You can easily have a good scalability, high availability and fault tolerance. And pay only for the compute time you consume. And this features let you.</p>

<h4 id="toc_0">Running code without thinking about servers</h4>

<p>If you use AWS Lambda service, you donâ€™t need to maintains your physical machine anymore. What you need to do, is to upload to code block(which we also call it lambda) to AWS, and AWS will run your code when a request comes in.</p>

<h4 id="toc_1">Scalability</h4>

<p>A lambda is a piece of code than runs independently. So there is no double  that you can scale up your service by running hundreds of, thousands of or billions of lambdas simultaneously, to serve your successful business. Scaling up/down is an automatic process therefore you only need focus on your own business.</p>

<h4 id="toc_2">High Availability and Fault Tolerance</h4>

<p>Same reason as above, serverless gives your an architecture with high availability and fault tolerance.</p>

<h4 id="toc_3">Paying only for the compute time you consume</h4>

<p>The money you pay depends on the duration your lambda runs. It significantly cuts down your cost. And you can manage your cost much clearly. You can understand which function consumes most of your money. And you can have the visibility to your code improvement. Because if you reduce your request processing time from 10s to 5s, you only need to pay half of the bill.</p>

<h2 id="toc_4">How a Lambda Run</h2>

<p>Running a lambda in AWS is trivial. Write the code in your computer, upload to AWS, set a HTTP url, thatâ€™s it.</p>

<h4 id="toc_5">Event Driven</h4>

<p>A lambda is triggered by every single HTTP request. This is a so-called event driven architecture. It also means the integration with other services is easy.</p>

<h4 id="toc_6">Step Function</h4>

<p>Things can become complicated if your lambda workflow grows. Try to image that your service is constructed by 10 or 15 lambdas and there are 4 or 5 if-else logic. This would not be an easy job to develop and maintain.</p>

<p>This is the reason why we have AWS Step Function.<br/>
<a href="https://aws.amazon.com/step-functions/">AWS Step Functionså¯è§†åŒ–å·¥ä½œæµæœåŠ¡_åˆ†å¸ƒå¼åº”ç”¨è°ƒèŠ‚-AWSäº‘æœåŠ¡</a></p>

<h2 id="toc_7">The weaknesses</h2>

<p>First thing need to highlight here, is that severless is not prefect solution and you canâ€™t really say serverless is the future. So above words introduces whatâ€™s good for serverless and now itâ€™s time to tell you what serverless canâ€™t do.</p>

<p>Firstly, a time-sensitive service canâ€™t be served by serverless(as theyâ€™re driven by HTTP API).</p>

<p>Secondly, cold start issue. When the first time a lambda is called, AWS need to download your scripts, build the environment you need, then run it. So at this moment you have to warn up your service by ourselves if this is not acceptable for you or your business.</p>

<p>Thirdly, your lambda canâ€™t run for long. Itâ€™s not a limitation and a technical issue for AWS Lambda Service. Itâ€™s about the cost performance. If your program need to run 24 hours, holding an EC2 instance costs you less.</p>

<p>And the last, we do need more a more third party services adapt to serverless which we donâ€™t have right now.</p>

<hr/>

<ul>
<li><p>You can get almost everything in this page:<a href="https://aws.amazon.com/lambda/">AWS Lambdaäº‘è®¡ç®—æœåŠ¡ä»‹ç»_å¦‚ä½•ä½¿ç”¨AWS Lambda-AWSäº‘æœåŠ¡</a></p></li>
<li><p>AWS is not the only company provides serverless service.<br/>
Microsoft Azure: <a href="https://azure.microsoft.com/en-us/services/functions/">https://azure.microsoft.com/en-us/services/functions/</a><br/>
Google Cloud Platform: <a href="https://cloud.google.com/functions/">Cloud Functions - äº‹ä»¶é©±åŠ¨å‹æ— æœåŠ¡å™¨è®¡ç®— Â |Â  Cloud Functions      Â |Â  Google Cloud</a><br/>
Aliyun: <a href="https://www.alibabacloud.com/en?spm=5176.137990.1146454.9.55fb224erTPz9r">An integrated suite of cloud products, services and solutions | Alibaba Cloud</a></p></li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[QCon 2018 Shanghai - Leading DevOps in the right way]]></title>
    <link href="http://www.imlc.me/qcon-2018-shanghai-leading-devops-in-the-right-way.html"/>
    <updated>2018-10-28T22:37:31+08:00</updated>
    <id>http://www.imlc.me/qcon-2018-shanghai-leading-devops-in-the-right-way.html</id>
    <content type="html"><![CDATA[
<blockquote>
<p>Below content comes from <a href="https://2018.qconshanghai.com/presentation/896">QConä¸Šæµ·2018|å…¨çƒè½¯ä»¶å¼€å‘å¤§ä¼š</a><br/>
You can download slideshow from <a href="http://ppt.geekbang.org/slide/download?cid=33&amp;pid=1851">å¤§ä¼šæ¼”è®²PPTåˆé›†</a></p>
</blockquote>

<p>In this presentation, Qiao introduced DevOps to us from a historical point of view. </p>

<p>In the 1970s, we develop our software in a so-called waterfall model.<br/>
In the 1990s, we have Agile.<br/>
When it comes to 2010s, we made Continue Delivery.<br/>
We drive our development in a model that is from per project to per requirement, we build, test, and deliver out software from per month to per day, per hour or even per minute</p>

<p>Qiao said, weâ€™re in a loop that he call it software delivery cycle. We make a plan, we code and build our software, we run the software,  we monitor our software, and then we start again with a new plan.</p>

<p>Plan -&gt; Build -&gt; Run -&gt; Monitoring -&gt; Plan</p>

<p>In this cycle, Agile help us to make plan become a build quickly(from Plan to Build). And DevOps helps on Build to Run.</p>

<p>If we think about it from a people point of view, Agile creates an efficient communication environment for project manager, developer, and test engineer. Continue Integration(CI) quickly passes the software package to test engineer. And what DevOps solves, is to make developer tester, and operation and maintenance engineer cooperate better.</p>

<p>Qiao highlighted a sentence: â€œThere is not an authoritative definition for DevOpsâ€. By this way, he thinks that both Agile and DevOps are the same thing. Theyâ€™re looking for a series of ways and practices to improve the cooperate quality and efficiency for different roles in software development, in order to speed up the delivery.</p>

<p>People and companies use tons of tools to make DevOps easier.<br/>
<img src="media/15407374515050/3341B206-FCAA-4C0B-8D4E-8750651FE599.png" alt="3341B206-FCAA-4C0B-8D4E-8750651FE599"/><br/>
(Above image comes from: <a href="https://xebialabs.com/periodic-table-of-devops-tools/">Periodic Table of DevOps Tools</a>)</p>

<p>And companies also hire DevOps engineer, to try to apply DevOps in the development. However, sometimes and somehow tools and DevOps engineer may not able to help and even worst they will have a negative effect.</p>

<p>People expect to deliver changes faster and faster, from 1 month to 1 day.  Generally, people start DevOps quickly and easily. People start with process automation(I donâ€™t know what process is, from Lawrence), and then they will make automation test. People will gain a huge benefit from this 2 steps for sure. And people will try to create more and more automation tests which will not help to step onto next phase for DevOps. Qiao called it Overmuch Automation Test.</p>

<p>So, how can we have a better DevOps?<br/>
Qiao raises 2 key points:<br/>
1. Understand <em>measurement</em> correctly<br/>
2. Have 2nd evolution for DevOps</p>

<h4 id="toc_0">Understand Measurement</h4>

<p>Measurement has to be visible, timely and actable. And most of the measurement is not quite actable. You canâ€™t really take action immediately and directly when you check a measurement. And in order to turn measurement into action, you need lots of analysis and more and more other measurements. Things become complicated and you may not able to take a correct action from the result of the analysis.</p>

<p>And you will have to know:<br/>
Measuring things has its cost.<br/>
Measurement canâ€™t tell everything to you.<br/>
Dev lead should find a way to manage the thing that canâ€™t be measured.</p>

<h4 id="toc_1">Have 2nd evolution on DevOps</h4>

<p>In the first evolution, people apply to DevOps without breaking the development model.<br/>
And in second evolution,  we need to break the old world and create a new one(if need).</p>

<p>One example is, to change the user from tester to developer for automation test.<br/>
Before the change, test cases are created and run by tester. For the seek of that dev will willing to use it, we need to make the test cases to become:<br/>
* Running fast<br/>
* Easy to use<br/>
* Result should be reliable<br/>
* Test cases are up to date<br/>
It does take time and money to achieve above 4 goals. </p>

<p>(To explain more, above example is not only an IT problem. Itâ€™s already a common sense that Dev takes the responsibility to test, create automation test and maintain automation test in Evolve. But in other companies and if youâ€™re in a role to push DevOps, you need to get human resource, money , and priority from your boss. And you will break the daily workflow for your workmates which leads to antagonistic sentiments. Department structrue need to be changed as well sometimes and itâ€™s a problem can be solved from bottom to top. from Lawrence)</p>

<p>And Qiao introduces a concept - Small Business Unit(SBU) - to us.<br/>
SBU is to have less communicate cost and more alignment. A SBU contains business people, project manager, developer, test engineer, and operate and maintenance engineer. And that requires you not only pay attention to your development infrastructure, but also to your software architecture, company structure, culture, and incentive system.</p>

<p>In the end, Qiao recommends his book <em>Continue Delivery: 2.0</em>.</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Note a debugging of Vue.js v-if]]></title>
    <link href="http://www.imlc.me/note-a-debugging-of-vue-js-v-if.html"/>
    <updated>2018-05-02T20:47:19+08:00</updated>
    <id>http://www.imlc.me/note-a-debugging-of-vue-js-v-if.html</id>
    <content type="html"><![CDATA[
<p>Today my workmate hit an issue that v-if didn&#39;t work for him.<br/>
It turned out that Vue.js can&#39;t watch the property that you do not define at the beginning.</p>

<h2 id="toc_0">Root Cause</h2>

<p>It&#39;s not only relative to v-if. It impact all functions that used two-way data binding.</p>

<p>On below demo, we have two section that both of them hope to change content by button clicking. Section 1 works good but section 2 didn&#39;t.</p>

<p>It&#39;s because section2 object(in js) doesn&#39;t define content property.<br/>
So after Vue runs up, the new property that you add afterward can&#39;t be watched by Vue. And then you will fine your change will not reflect to web page even if you change the value of the property.</p>

<p>In this demo, I tried to change the content of section 2 but it didn&#39;t work. In my workmate&#39;s case, it change the value of a property but v-if was not triggered.</p>

<p>Live Demo: <a href="https://jsfiddle.net/Lawrence/7eq3y5uv/">https://jsfiddle.net/Lawrence/7eq3y5uv/</a><br/>
<iframe src="https://jsfiddle.net/Lawrence/7eq3y5uv/embedded/" width="800px" height="500px"><br/>
</iframe></p>

<h2 id="toc_1">Look Deeper</h2>

<p>When Vue.js starts, it will convert all data into observable. The key is how Vue.js do that here.</p>

<p>Vue.js will bind <code>Watcher</code> on each properties of an object by defining <code>set</code> method using <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty">Object.defineProperty</a>. Therefore Vue.js can get updated if you change the value.</p>

<p>Apparently, if you don&#39;t define an property for an object at the beginning, Vue.js can&#39;t watch it.</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Hello Spring Actuator]]></title>
    <link href="http://www.imlc.me/15230283138027.html"/>
    <updated>2018-04-06T23:25:13+08:00</updated>
    <id>http://www.imlc.me/15230283138027.html</id>
    <content type="html"><![CDATA[
<h2 id="toc_0">Start Up The Service</h2>

<h2 id="toc_1">Customize Health Check</h2>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[æ¥è‡ªé˜¿é‡Œäº‘äº‘æ –ç¤¾åŒºçš„ ElasticSearch åŸç†å‰–æ]]></title>
    <link href="http://www.imlc.me/15228603330284.html"/>
    <updated>2018-04-05T00:45:33+08:00</updated>
    <id>http://www.imlc.me/15228603330284.html</id>
    <content type="html"><![CDATA[
<p>è¿™æ˜¯ä¸€ç³»åˆ—æ¥è‡ªé˜¿é‡Œçš„ ElasticSearch çš„åŸç†å‰–ææ–‡ç« ã€‚æ–‡ç« è´¨é‡ä¼˜ç§€ï¼Œå¹²è´§åè¶³ã€‚</p>

<p>ä¸€æ˜¯ ES æ˜¯éå¸¸æµè¡Œçš„åˆ†å¸ƒå¼æœç´¢å¼•æ“ï¼Œä¸ç®¡æ˜¯æ—¥å¸¸è¿ç»´è¿˜æ˜¯ç”Ÿäº§ç¯å¢ƒéƒ½éå¸¸å®ç”¨ã€‚<br/>
äºŒæ˜¯ ES ä¹Ÿæ˜¯ä¸€ä¸ªå…¸å‹çš„åˆ†å¸ƒå¼ç³»ç»Ÿã€‚åˆ†å¸ƒå¼ç³»ç»Ÿé¿ä¸å¼€çš„é›†ç¾¤ã€æœåŠ¡å‘ç°ã€Master é€‰ä¸¾ç­‰è¯é¢˜åœ¨æ­¤ç³»åˆ—æ–‡ç« ä¸­éƒ½æœ‰æ¶‰åŠã€‚å¦‚æœæƒ³äº†è§£å¦‚ä½•å¼€å‘ä¸€ä¸ªé«˜å¯ç”¨ï¼Œå¯ä¼¸ç¼©çš„åˆ†å¸ƒå¼ç³»ç»Ÿï¼ŒES ä¹Ÿæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ä¾‹å­ã€‚</p>

<p><a href="https://zhuanlan.zhihu.com/p/35291900">Elasticsearchåˆ†å¸ƒå¼ä¸€è‡´æ€§åŸç†å‰–æ(ä¸€)-èŠ‚ç‚¹ç¯‡</a></p>

<p><a href="https://zhuanlan.zhihu.com/p/35294658">Elasticsearchåˆ†å¸ƒå¼ä¸€è‡´æ€§åŸç†å‰–æ(äºŒ)-Metaç¯‡</a></p>

<p><a href="https://zhuanlan.zhihu.com/p/35299145">Elasticsearchåˆ†å¸ƒå¼ä¸€è‡´æ€§åŸç†å‰–æ(ä¸‰)-Dataç¯‡</a></p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Remote Debugging for Java Application]]></title>
    <link href="http://www.imlc.me/remote-debugging-for-java-application.html"/>
    <updated>2018-03-21T23:24:15+08:00</updated>
    <id>http://www.imlc.me/remote-debugging-for-java-application.html</id>
    <content type="html"><![CDATA[
<p>It&#39;s an important feature that JVM provided and I&#39;m so surprised that I used it at the first time today.</p>

<h2 id="toc_0">How to enable remote debugging</h2>

<p>To enable it, you will just need to add below JVM arguments in command line:</p>

<pre><code>-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005
</code></pre>

<p>Then you can use your debugger to attach to remote JVM.</p>

<p><code>suspend</code> is quite useful argument here. If <code>suspend</code> is <code>y</code>, JVM will suspend before main class is loaded until debugger attach to it. <code>n</code> otherwise. </p>

<p>So set <code>suspend</code> to <code>y</code> if you need to debug application initialization phase.</p>

<p><a href="https://docs.oracle.com/javase/7/docs/technotes/guides/jpda/conninv.html">Check Official Document for detailed introduction</a></p>

<h2 id="toc_1">Remote Debugging in IntelliJ IDEA</h2>

<p>I believe all IDEs have that function to debug Java application remotely. I use IntelliJ here for demonstration.</p>

<p><img src="media/15216458555103/Remote%20Debug%20Configuration%20in%20IntelliJ.png" alt="Remote Debug Configuration in IntelliJ"/><br/>
Add a new configuration under Remote category, you will see IntelliJ provides command line arguments for you. That&#39;s exactly what I show in previous section.</p>

<p>Change the host to your server&#39;s url, and launch your application with remote debug arguments, then you can debug as what you did on debugging local application.</p>

<h1 id="toc_2">DO NOT REMOTE DEBUG YOUR PRODUCTION APPLICATION</h1>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[What is Cherry-Pick]]></title>
    <link href="http://www.imlc.me/what-is-cherry-pick.html"/>
    <updated>2018-02-24T22:28:33+08:00</updated>
    <id>http://www.imlc.me/what-is-cherry-pick.html</id>
    <content type="html"><![CDATA[
<p>I confused for so long that what Cherry-Pick is. And today I got some times to learn it.</p>

<h2 id="toc_0">What Cherry-Pick can do</h2>

<p>Cherry-Pick can pick some commits from other branch, merge into your current working branch.</p>

<h2 id="toc_1">Use Cases</h2>

<ul>
<li><p>If you&#39;re working on a dev branch. You have not yet complete your task but there are change committed. And now you need to merge part of you work into master for some reason but you don&#39;t want to merge the dev branch into master. And now you can cherry pick the commits that just you need, and merge them into master.</p></li>
<li><p>If you merge your commit into wrong branch. And now you need to merge you change into master. You can cherry pick you change and merge into master branch. Then revert your change into that wrong branch.</p></li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Docker is a good way to manage our services]]></title>
    <link href="http://www.imlc.me/15194679139964.html"/>
    <updated>2018-02-24T18:25:13+08:00</updated>
    <id>http://www.imlc.me/15194679139964.html</id>
    <content type="html"><![CDATA[
<p>Many years ago I have heard that docker is an amazing stuff to manage the build, deployment and service life cycle. But at that time, there were also some bad news on security that prevented me from trying it.</p>

<p>And today I finally found a day to play with it. The result is, Docker is a amazing thing to manage my service. It exactly fix my problem that this years I&#39;m trying to improve and contributing to my business.</p>

<h2 id="toc_0">Service Isolation</h2>

<p>Docker will create individual VM to serve each services. Most of OS resource are isolated so that dev doesn&#39;t need to care about the system resource(at least less care about it). Also we can keep clean codebase without system specified logic.</p>

<p>In my company we run services in several hosts shared to different teams. It&#39;s not a frequent case but also annoying that different services will try to use same port, will try to user different JDK version on the path, will need to change same environment variable.</p>

<p>Some service change those share resource dynamically and leads to random failures/issues that hard to locate.</p>

<p>In this scenario, Docker may be one of solutions.</p>

<h2 id="toc_1">Unified Stander to Deploy Services</h2>

<p>DevOps requires less manual work on our build, test, release process. All stuffs should be able to automatically proceed. It absolutely is a good idea. When we serve our system in a large scale and cooperate with so much teams, more manual work we need, much risk we introduce. No one want to stick in fire-fight at mid night. And Docker provide a unified stander to manage service&#39;s resource and environment. That means, we are easily to write automatic process for build, for test and for deployment.</p>

<p>The company I work on has its own solution to manage resource and do things automatically. We have huge set of scripts and softwares to setup dev environment, setup build agents for TeamCity and Jenkins, to deploy application, to verify or monitor the function we provide.<br/>
They are awesome, they have provided huge value to business. But it&#39;s customized. New engineers are hard to understand the ecosystem.</p>

<p>I think Docker is good way to reduce the learning cost because of aligned style to  manage resource </p>

<h2 id="toc_2">Scalability</h2>

<p>It&#39;s the most well-known feature for Docker, no need more words to admire it.</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[How to serve one jersey resource or jetty servlet for different path]]></title>
    <link href="http://www.imlc.me/15063481937597.html"/>
    <updated>2017-09-25T22:03:13+08:00</updated>
    <id>http://www.imlc.me/15063481937597.html</id>
    <content type="html"><![CDATA[
<p>Today I&#39;m trying to make an endpoint accessible in different paths. Such as I can go to <code>http://localhost/</code> and <code>http://localhost/hello</code> for a same hello message. </p>

<p>I do got some solutions.</p>

<p>I&#39;m using Jersey over Jetty. But whether or not  you&#39;re using Jetty servlet or writing Jersey Resource, I think you will get some ideas.</p>

<p>Ps: I copy the code from my GitLab Snippets and will keep it update. So If you find something wrong, pls comment in GitLab</p>

<h3 id="toc_0">Using the regular expression in Jersey Resource</h3>

<p><a href="https://gitlab.com/snippets/1676612">https://gitlab.com/snippets/1676612</a></p>

<pre><code class="language-java">package me.imlc.example.jetty.multiplehandler;

import com.sun.jersey.spi.container.servlet.ServletContainer;
import me.imlc.example.jetty.multplehandler.HelloResource;
import org.apache.http.client.methods.HttpGet;
import org.apache.http.impl.client.CloseableHttpClient;
import org.apache.http.impl.client.HttpClients;
import org.apache.http.util.EntityUtils;
import org.eclipse.jetty.server.Server;
import org.eclipse.jetty.servlet.ServletContextHandler;
import org.eclipse.jetty.servlet.ServletHolder;
import org.glassfish.jersey.server.ResourceConfig;
import org.junit.AfterClass;
import org.junit.BeforeClass;
import org.junit.Test;

import javax.ws.rs.GET;
import javax.ws.rs.Path;
import javax.ws.rs.Produces;
import javax.ws.rs.core.MediaType;
import java.util.Objects;

import static org.junit.Assert.assertEquals;

public class RegexpResourceTest {

    private static Server server;
    private static CloseableHttpClient client = HttpClients.createDefault();

    @BeforeClass
    public static void beforeAll() throws Exception {
        ResourceConfig rc = new ResourceConfig(RegexpResource.class);

        ServletHolder holder = new ServletHolder(new ServletContainer(rc));

        server = new Server(8080);

        ServletContextHandler contextHandler = new ServletContextHandler(server, &quot;/*&quot;);
        contextHandler.addServlet(holder, &quot;/*&quot;);

        server.start();
    }


    @Test
    public void canAccessByRootPath() throws Exception {
        HttpGet get = new HttpGet(&quot;http://localhost:8080/hello&quot;);
        String content = EntityUtils.toString(client.execute(get).getEntity());
        assertEquals(content, &quot;Hello, Lynn.&quot;);
    }

    @Test
    public void canAccessByServicePath() throws Exception {
        HttpGet get = new HttpGet(&quot;http://localhost:8080/service/hello&quot;);
        String content = EntityUtils.toString(client.execute(get).getEntity());
        assertEquals(content, &quot;Hello, Lynn.&quot;);
    }

    @AfterClass
    public static void afterAll() throws Exception {
        if(Objects.nonNull(server)) server.stop();
        if(Objects.nonNull(client)) client.close();
    }

    @Path(&quot;/{a:(.*)|service}&quot;)
    public static class RegexpResource {
        @GET
        @Produces(MediaType.TEXT_PLAIN)
        public String hello() {
            return &quot;Hello, Lynn.&quot;;
        }
    }
}

</code></pre>

<h3 id="toc_1">Specify multiple paths for one servlet</h3>

<p><a href="https://gitlab.com/snippets/1676613">https://gitlab.com/snippets/1676613</a></p>

<pre><code class="language-java">package me.imlc.example.jetty.multiplehandler;

import com.sun.jersey.spi.container.servlet.ServletContainer;
import org.apache.http.client.methods.HttpGet;
import org.apache.http.impl.client.CloseableHttpClient;
import org.apache.http.impl.client.HttpClients;
import org.apache.http.util.EntityUtils;
import org.eclipse.jetty.server.Server;
import org.eclipse.jetty.servlet.ServletContextHandler;
import org.eclipse.jetty.servlet.ServletHolder;
import org.glassfish.jersey.server.ResourceConfig;
import org.junit.AfterClass;
import org.junit.BeforeClass;
import org.junit.Test;

import javax.ws.rs.GET;
import javax.ws.rs.Path;
import javax.ws.rs.Produces;
import javax.ws.rs.core.MediaType;
import java.util.Objects;

import static org.junit.Assert.assertEquals;

public class MultipleServletTest {

    private static Server server;
    private static CloseableHttpClient client = HttpClients.createDefault();

    @BeforeClass
    public static void beforeAll() throws Exception {
        ResourceConfig rc = new ResourceConfig(RegexpResourceTest.RegexpResource.class);

        ServletHolder holder = new ServletHolder(new ServletContainer(rc));

        server = new Server(8080);

        ServletContextHandler contextHandler = new ServletContextHandler(server, &quot;/*&quot;);
        contextHandler.addServlet(holder, &quot;/*&quot;);
        contextHandler.addServlet(holder, &quot;/service/*&quot;);

        server.start();
    }

    @Test
    public void canAccessByRootPath() throws Exception {
        HttpGet get = new HttpGet(&quot;http://localhost:8080/hello&quot;);
        String content = EntityUtils.toString(client.execute(get).getEntity());
        assertEquals(content, &quot;Hello, Lynn.&quot;);
    }

    @Test
    public void canAccessByServicePath() throws Exception {
        HttpGet get = new HttpGet(&quot;http://localhost:8080/service/hello&quot;);
        String content = EntityUtils.toString(client.execute(get).getEntity());
        assertEquals(content, &quot;Hello, Lynn.&quot;);
    }

    @AfterClass
    public static void afterAll() throws Exception {
        if(Objects.nonNull(server)) server.stop();
        if(Objects.nonNull(client)) client.close();
    }

    @Path(&quot;/hello&quot;)
    public static class MultipleServletResource {
        @GET
        @Produces(MediaType.TEXT_PLAIN)
        public String hello() {
            return &quot;Hello, Lynn.&quot;;
        }
    }
}

</code></pre>

<h3 id="toc_2">Serve one servlet in different context handler</h3>

<p><a href="https://gitlab.com/snippets/1676615">https://gitlab.com/snippets/1676615</a></p>

<pre><code class="language-java">package me.imlc.example.jetty.multiplehandler;

import com.sun.jersey.spi.container.servlet.ServletContainer;
import org.apache.http.client.methods.HttpGet;
import org.apache.http.impl.client.CloseableHttpClient;
import org.apache.http.impl.client.HttpClients;
import org.apache.http.util.EntityUtils;
import org.eclipse.jetty.server.Handler;
import org.eclipse.jetty.server.Server;
import org.eclipse.jetty.servlet.ServletContextHandler;
import org.eclipse.jetty.servlet.ServletHolder;
import org.glassfish.jersey.server.ResourceConfig;
import org.junit.AfterClass;
import org.junit.BeforeClass;
import org.junit.Test;

import javax.ws.rs.GET;
import javax.ws.rs.Path;
import javax.ws.rs.Produces;
import javax.ws.rs.core.MediaType;
import java.util.Objects;

import org.eclipse.jetty.server.handler.ContextHandlerCollection;

import static org.junit.Assert.assertEquals;

public class MultipleContextHandlerTest {
    private static Server server;
    private static CloseableHttpClient client = HttpClients.createDefault();

    @BeforeClass
    public static void beforeAll() throws Exception {
        ResourceConfig rc = new ResourceConfig(MultipleContextHandlerResource.class);

        ServletHolder holder = new ServletHolder(new ServletContainer(rc));

        server = new Server(8080);

        ServletContextHandler rootContext = new ServletContextHandler(server, &quot;/*&quot;);
        rootContext.addServlet(holder, &quot;/*&quot;);

        ServletContextHandler serviceContext = new ServletContextHandler(server, &quot;/service/*&quot;);
        serviceContext.addServlet(holder, &quot;/*&quot;);

        ContextHandlerCollection contextHandlerCollection = new ContextHandlerCollection();
        contextHandlerCollection.setHandlers(new Handler[]{
                rootContext, serviceContext
        });

        server.setHandler(contextHandlerCollection);

        server.start();
    }

    @Test
    public void canAccessByRootPath() throws Exception {
        HttpGet get = new HttpGet(&quot;http://localhost:8080/hello&quot;);
        String content = EntityUtils.toString(client.execute(get).getEntity());
        assertEquals(content, &quot;Hello, Lynn.&quot;);
    }

    @Test
    public void canAccessByServicePath() throws Exception {
        HttpGet get = new HttpGet(&quot;http://localhost:8080/service/hello&quot;);
        String content = EntityUtils.toString(client.execute(get).getEntity());
        assertEquals(content, &quot;Hello, Lynn.&quot;);
    }

    @AfterClass
    public static void afterAll() throws Exception {
        if(Objects.nonNull(server)) server.stop();
        if(Objects.nonNull(client)) client.close();
    }

    @Path(&quot;/hello&quot;)
    public static class MultipleContextHandlerResource {
        @GET
        @Produces(MediaType.TEXT_PLAIN)
        public String hello() {
            return &quot;Hello, Lynn.&quot;;
        }
    }
}

</code></pre>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Why we need to disable TRACE method and how to disable TRACE in Embedded Jetty]]></title>
    <link href="http://www.imlc.me/why-we-need-to-disable-trace-method-and-how-to-disable-trace-in-embedded-jetty.html"/>
    <updated>2017-05-06T01:20:05+08:00</updated>
    <id>http://www.imlc.me/why-we-need-to-disable-trace-method-and-how-to-disable-trace-in-embedded-jetty.html</id>
    <content type="html"><![CDATA[
<p>This page show you why we need to disable TRACE HTTP method for security reason.  And provide a sample project to show you how to disable TRACE in embedded Jetty.</p>

<h2 id="toc_0">Why we need to disable TRACE method</h2>

<p>Allowing TRACE method will leads to Cross-Site Tracking (a.k.a XST) problem. XST was found in 2003. Itâ€™s a very old topic and I canâ€™t get any new discussion after searched in Google. But itâ€™s good to disable TRACE for our server to avoid any redundant endpoint exposes to the danger world. </p>

<h3 id="toc_1">Avoid XST Attack</h3>

<p>As we all know, server will echo back all information when it receive TRACE request. â€œAll informationâ€ means the cookies, the credential data and the server version etc. When user is visiting a malicious website, a hacker can read malicious data by calling a cross-site TRACE request.</p>

<h3 id="toc_2">Limit Information Expose to the World</h3>

<p>In the other case, we run an API server which user will not access by browser directly. Itâ€™s good practice to limit the information expose to the external world. Information like version may tell others which issue is ok to use to hack. If we donâ€™t need TRACE (at lease in production environment), so disable it.</p>

<h2 id="toc_3">How to disable TRACE in Embedded Jetty</h2>

<p>By default Jetty enables TRACE  and we need to disable it manually.<br/>
This <a href="https://github.com/lawrenceching/jetty-disable-trace/blob/master/src/main/java/me/imlc/example/jetty_disable_trace/Main.java#L65">GitHub project</a> shows you how to disable TRACE for embedded Jetty.</p>

<pre><code class="language-java">private Handler wrapWithSecurityHandler(Handler h){
        Constraint disableTraceConstraint = new Constraint();
        disableTraceConstraint.setName(&quot;Disable TRACE&quot;);
        disableTraceConstraint.setAuthenticate(true);

        ConstraintMapping mapping = new ConstraintMapping();
        mapping.setConstraint(disableTraceConstraint);
        mapping.setMethod(&quot;TRACE&quot;);
        mapping.setPathSpec(&quot;/&quot;);

        // omissionConstraint is to fix the warning log &quot;&quot;null has uncovered http methods for path: /
        // No impact to disable TRACE if you do not add this constraint
        // But if you&#39;re using the monitoring tool like Geneos, and your component requires keep production monitoring all green,
        // You can try to add this omissionConstraint to fix the warning Jetty prints.
        Constraint omissionConstraint = new Constraint();
        ConstraintMapping omissionMapping = new ConstraintMapping();
        omissionMapping.setConstraint(omissionConstraint);
        omissionMapping.setMethod(&quot;*&quot;);
        omissionMapping.setPathSpec(&quot;/&quot;);


        ConstraintSecurityHandler handler = new ConstraintSecurityHandler();
        handler.addConstraintMapping(mapping);
        handler.addConstraintMapping(omissionMapping);
        handler.setHandler(h);
        return handler;
    }
</code></pre>

<p>Also notice that I wrote omissionConstraint, applied to all method to fix a warning Jetty prints:<br/>
<code>null has uncovered http methods for path: /</code></p>

<p>If youâ€™r not required to keep production monitoring all green, you can delete this redundant constraint and accept this warning. </p>

<h6 id="toc_4">References</h6>

<p>[1] <a href="http://www.cgisecurity.com/whitehat-mirror/WH-WhitePaper_XST_ebook.pdf">CROSS-SITE TRACING (XST) - THE NEW TECHNIQUES AND EMERGING THREATS TO BYPASS CURRENT WEB SECURITY MEASURES USING TRACE AND XSS - Jeremiah Grossman</a><br/>
[2] <a href="https://www.owasp.org/index.php/Cross_Site_Tracing">Cross Site Tracing - OWASP</a><br/>
[3] <a href="http://stackoverflow.com/questions/29348328/java-embedded-jetty-is-accepting-http-trace-method">spring - Java embedded jetty is accepting HTTP TRACE method - Stack Overflow</a></p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Mac è¿œç¨‹ç™»å½• Windows 10]]></title>
    <link href="http://www.imlc.me/using-remote-desktop-in-mac-in-china.html"/>
    <updated>2016-11-17T23:08:48+08:00</updated>
    <id>http://www.imlc.me/using-remote-desktop-in-mac-in-china.html</id>
    <content type="html"><![CDATA[
<p>åœ¨ä¸­å›½ï¼Œä½¿ç”¨ Windows çš„è¿œç¨‹æ¡Œé¢æœåŠ¡æœ‰ä¸¤ä¸ªå›°éš¾ã€‚</p>

<ol>
<li>å®˜æ–¹çš„ Remote Desktop Client on Mac ä¸åœ¨ä¸­å›½é”€å”®ã€‚</li>
<li>å®¶åº­ç‰ˆçš„ Windows 10 ä¸åŒ…å«è¿œç¨‹æ¡Œé¢æœåŠ¡ã€‚</li>
</ol>

<p>è§£å†³æ–¹æ³•æ˜¯ä¸¤ä¸ªéƒ½æ‰¾ç¬¬ä¸‰æ–¹è§£å†³æ–¹æ¡ˆã€‚</p>

<ol>
<li>ä½¿ç”¨ Parallels Client ä»£æ›¿ Remote Desktop Client on Mac</li>
<li>é€‚ç”¨ rdpwrap æä¾›è¿œç¨‹æ¡Œé¢æœåŠ¡</li>
</ol>

<hr/>

<h3 id="toc_0">å®‰è£… Parallels Client</h3>

<p>Parallels Client: <a href="https://itunes.apple.com/us/app/parallels-client/id600925318?mt=12">https://itunes.apple.com/us/app/parallels-client/id600925318?mt=12</a></p>

<p>æˆ–è€…éœ€è¦ä»˜è´¹ä½†æ˜¯ä¸€æ ·æ›´å¥½åŠŸèƒ½æ›´åŠ å¼ºå¤§çš„ Parallels Access:<br/>
<a href="http://www.parallels.com/cn/products/access/">http://www.parallels.com/cn/products/access/</a></p>

<h3 id="toc_1">å®‰è£… rdpwrap</h3>

<p>GitHub: <a href="https://github.com/stascorp/rdpwrap">https://github.com/stascorp/rdpwrap</a></p>

<p>rdpwrap æ˜¯åœ¨å®¶åº­ç‰ˆ Windows ä¸Šæä¾›è¿œç¨‹æ¡Œä¹°æœåŠ¡çš„ä¸€ä¸ªå¼€æºé¡¹ç›®ã€‚æ”¯æŒä» Windows Vista åˆ° Windows 10 ç³»ç»Ÿã€‚å®‰è£…å’Œä½¿ç”¨è¯´æ˜è¯·åˆ° GitHub ä¸»é¡µæŸ¥çœ‹ã€‚</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Fix angular2 can't route the page after refresh]]></title>
    <link href="http://www.imlc.me/fix-angular2-cannot-route-the-page-after-refresh.html"/>
    <updated>2016-10-03T19:47:21+08:00</updated>
    <id>http://www.imlc.me/fix-angular2-cannot-route-the-page-after-refresh.html</id>
    <content type="html"><![CDATA[
<p>It&#39;s very easy to make a mistake on Angular2 router. After refresh the page, the page to be routed to can not load successfully. Chrome console tell me that browser failed to load css resources as the path of resources is incorrect.</p>

<p>The solution is that put the <code>&lt;base href=&quot;/&quot;/&gt;</code> directly under the title tag. </p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[[iOS] Header files not found after cocoaPods updated to 1.0]]></title>
    <link href="http://www.imlc.me/header-files-not-found-after-cocoapods-updated-to-1.0.html"/>
    <updated>2016-09-29T21:52:14+08:00</updated>
    <id>http://www.imlc.me/header-files-not-found-after-cocoapods-updated-to-1.0.html</id>
    <content type="html"><![CDATA[
<p>Days ago I update pod to version 1.0. Then found all header not found in my header bridge file. I spent 2 days to locate the reason. That is cocoaPods.<br/>
Thanks to Git, I noticed that Header folder was be deleted after I run <code>pod install</code> which pod 0.x did not do that.<br/>
What pod 1.0 do is that I donâ€™t need import headers explicitly any more. Pod do that.<br/>
So what I need to do is DELETE all import statement which not found. That will fix everything.</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Conflict with angular-protractor and jQuery in TypeScript]]></title>
    <link href="http://www.imlc.me/conflict-with-angular-protractor-and-jquery-in-typescript.html"/>
    <updated>2016-09-29T20:57:22+08:00</updated>
    <id>http://www.imlc.me/conflict-with-angular-protractor-and-jquery-in-typescript.html</id>
    <content type="html"><![CDATA[
<p>When I type <code>npm start</code> in my angular2 project, terminal shows:</p>

<p>Subsequent variable declarations must have the same type.  Variable &#39;$&#39; must be of type &#39;JQueryStatic&#39;, but here has type &#39;cssSelectorHelper&#39;<br/>
There is a conflict between angular-protractor and jQuery. One soluction I googled is marked down below:</p>

<p>Modify your jquery.d.ts file<br/>
From:</p>

<pre><code>declare module &quot;jquery&quot; {
    export = $;
}
declare var jQuery: JQueryStatic;
declare var $: JQueryStatic;
</code></pre>

<p>To:</p>

<pre><code>declare module &quot;jquery&quot; {
    export = jQuery;
}
declare var jQuery: JQueryStatic;
</code></pre>

<p>On the contrary, you can change protractor also.<br/>
References:<br/>
[1] <a href="https://codedump.io/share/kQF7Ts1Iu5d/1/how-to-use-jquery-with-angular2">How to use jquery with angular2</a></p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Android Studio æ›´æ–° Android 6.0 ä¹‹åæ— æ³•æ‰¾åˆ° org.apache.http åŒ…çš„é—®é¢˜]]></title>
    <link href="http://www.imlc.me/android-studio-can-not-find-org-apache-http-package-after-update-to-6.0.html"/>
    <updated>2016-09-27T18:17:56+08:00</updated>
    <id>http://www.imlc.me/android-studio-can-not-find-org-apache-http-package-after-update-to-6.0.html</id>
    <content type="html"><![CDATA[
<p>è¿™ä¹ˆé‡è¦çš„é—®é¢˜ç«Ÿç„¶æ²¡æœ‰äº‹å…ˆè¯´æ˜ï¼Œå¤ªè¿‡åˆ†äº†ã€‚<br/>
ä»Šå¤©æ›´æ–°äº† Android 6.0 çš„ SDK åå‘ç°é¡¹ç›®ä¸€ç‰‡çº¢ï¼Œå“å°¿äº†ã€‚<br/>
ç›´æ¥å¼•ç”¨æŠŠï¼š<a href="http://developer.android.com/about/versions/marshmallow/android-6.0-changes.html#behavior-apache-http-client">http://developer.android.com/about/versions/marshmallow/android-6.0-changes.html#behavior-apache-http-client</a><br/>
Android 6.0 release removes support for the Apache HTTP client. If your app is using this client and targets Android 2.3 (API level 9) or higher, use the <a href="http://developer.android.com/reference/java/net/HttpURLConnection.html">HttpURLConnection</a> class instead. This API is more efficient because it reduces network use through transparent compression and response caching, and minimizes power consumption. To continue using the Apache HTTP APIs, you must first declare the following compile-time dependency in your <strong>build.gradle</strong> file:</p>

<pre><code>android {
Â Â Â Â useLibrary &#39;org.apache.http.legacy&#39;
}
</code></pre>

<p>å¤§æ¦‚æ„æ€å°±æ˜¯ï¼ŒAndroid 6.0ä¸å†æ”¯æŒ Apache HTTP clientã€‚ è¯·ä½¿ç”¨Â <a href="http://developer.android.com/reference/java/net/HttpURLConnection.html">HttpURLConnection</a> ä»£æ›¿ã€‚æƒ³è¦ç»§ç»­ä½¿ç”¨ Apache HTTP client çš„ï¼Œè¯·æ·»åŠ å¦‚ä¸Šä»£ç ã€‚</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Conversion between Array and JSON string using ObjectMapper]]></title>
    <link href="http://www.imlc.me/conversion-between-array-and-json-string-using-objectmapper.html"/>
    <updated>2016-09-27T18:17:56+08:00</updated>
    <id>http://www.imlc.me/conversion-between-array-and-json-string-using-objectmapper.html</id>
    <content type="html"><![CDATA[
<p>ObjectMapper is a swift library like Gson in Java. Using ObjectMapper, I can easily convert basic classes into JSON format string or convert it inversely. </p>

<p>The code below shows how to convert swift array into JSON and also recover it from JSON.</p>

<pre><code>class Book: Mappable{
    var id:Int?
    var title:String?
    var category:[String]?
    
    init(id:Int, title:String, category:[String]){
        self.id = id
        self.title = title
        self.category = category
    }
    
    required init?(_ map: Map) {
        
    }
    
    func mapping(map: Map) {
        id          &lt;- map[&quot;id&quot;]
        title       &lt;- map[&quot;title&quot;]
        category    &lt;- map[&quot;category&quot;]
    }
}


// Do the conversion
let JSON = &quot;{\&quot;id\&quot;:3, \&quot;title\&quot;:\&quot;The Third Book\&quot;, \&quot;category\&quot;:[\&quot;TOP\&quot;, \&quot;TECH\&quot;]}&quot;

// Convert JSON to class instance
let book3 = Mapper&lt;Book&gt;().map(JSON)!

let book1 = Book(id: 1, title: &quot;The First Book&quot;, category: [&quot;TECH&quot;])
let book2 = Book(id: 2, title: &quot;The Second Book&quot;, category: [&quot;ART&quot;,&quot;MUSIC&quot;])
let books = [book1, book2, book3]
   
// Convert array to JSON array string
let arrayJSON = Mapper().toJSONString(books, prettyPrint: true)

// Convert JSON array back to the array
let bookArray = Mapper&lt;Book&gt;().mapArray(arrayJSON)
</code></pre>

<hr/>

<p>TAG: ObjectMapper, JSON, Swift, Array, Convert, Conversion</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Conversion between String and NSDate]]></title>
    <link href="http://www.imlc.me/conversion-between-string-and-nsdate.html"/>
    <updated>2016-09-27T18:17:56+08:00</updated>
    <id>http://www.imlc.me/conversion-between-string-and-nsdate.html</id>
    <content type="html"><![CDATA[
<p>The class NSDateFormatter is an easy-to-use tool. Just like SimpleDateFormat in Java.</p>

<h4 id="toc_0">Convert String to NSDate</h4>

<pre><code>let str = &quot;2016-06-01T00:00:00Z&quot;
let dateFormatter = NSDateFormatter()
dateFormatter.dateFormat = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssZ&quot;
let date = dateFormatter.dateFromString(str)
</code></pre>

<h4 id="toc_1">Convert NSDate to String</h4>

<pre><code>let description = &quot;Time is \(dateFormatter.stringFromDate(date))&quot;
</code></pre>

<p>TAG: Convert, String, NSDate, NSDateFormatter</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Java Integer ç¼“å­˜æœºåˆ¶çš„å°å‘ç‚¹]]></title>
    <link href="http://www.imlc.me/java-integer-%E7%BC%93%E5%AD%98-%E6%9C%BA%E5%88%B6-%E5%9D%91%E7%82%B9.html"/>
    <updated>2016-09-27T18:17:56+08:00</updated>
    <id>http://www.imlc.me/java-integer-%E7%BC%93%E5%AD%98-%E6%9C%BA%E5%88%B6-%E5%9D%91%E7%82%B9.html</id>
    <content type="html"><![CDATA[
<p>Integer æ˜¯ Java 5 å¼•å…¥çš„æ–°ç‰¹æ€§ï¼Œè¯¥ç‰¹æ€§èƒ½èŠ‚çœå†…å­˜å’Œæ”¹å–„æ€§èƒ½ã€‚åŒæ ·è¢«å¼•å…¥ç¼“å­˜æœºåˆ¶çš„è¿˜æœ‰ Byteï¼ŒShortï¼ŒLongï¼ŒCharacterï¼Œç¼“å­˜èŒƒå›´éƒ½æ˜¯åœ¨ [-128,127] ï¼ˆCharacteræ˜¯åœ¨[0,127]ï¼‰ä¹‹é—´ã€‚</p>

<p>ä½†æ˜¯æœ‰å‡ ç‚¹éœ€è¦æ³¨æ„çš„æ˜¯ï¼š<br/>
1. å¯¹ Integer å¯¹è±¡å¼•å…¥äº† IntegerCache ç±»ï¼Œå…¶ä»–å°è£…ç±»å‹ä¹Ÿæœ‰å¯¹åº”çš„ XxxCacheã€‚<br/>
2. è¯¥ç¼“å­˜ç‰¹æ€§åªæœ‰åœ¨ autoboxing è¿‡ç¨‹ä¸­ä½¿ç”¨ï¼Œæ¢è¨€ä¹‹ï¼Œä½¿ç”¨ constructor åˆ›å»ºçš„ Integer å¹¶ä¸èƒ½è¢«ç¼“å­˜ã€‚<br/>
3. å› ä¸ºç¼“å­˜æœºåˆ¶çš„å­˜åœ¨ï¼Œåœ¨ç¼“å­˜èŒƒå›´å†…çš„å¯¹è±¡éƒ½æ¥è‡ªåŒä¸€ä¸ªç¼“å­˜ã€‚å¸¦æ¥çš„å‰¯ä½œç”¨æ˜¯ä½¿ç”¨â€œ==â€åœ°å€æ¯”è¾ƒè¿ç®—ç¬¦æ¯”è¾ƒä¸¤ä¸ªçœ‹ä¼¼ä¸ä¸€æ ·çš„å¯¹è±¡ï¼Œå¾—åˆ°çš„æ˜¯ trueã€‚ç½‘ä¸Šå…¶ä»–æ–‡ç« çš„è¯´æ³•æ˜¯å› è€Œå¯ä»¥ä½¿ç”¨ == æ¥æ¯”è¾ƒç›´æ¥æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡çš„å€¼ã€‚ä½†æˆ‘è§‰å¾—è¿™æ ·ç†è§£å®¹æ˜“é€ æˆåå·®ã€‚Java è§„èŒƒå¹¶æ²¡æœ‰çº¦å®š [-128,127] çš„èŒƒå›´å†… == ç”¨ä½œå€¼æ¯”è¾ƒï¼Œè¿™åªæ˜¯ä¸€ä¸ªå‰¯ä½œç”¨ã€‚<br/>
4. åªæœ‰ Integer å¯¹è±¡å¯ä»¥é€šè¿‡æŒ‡å®š JVM å¯åŠ¨å‚æ•°æ¥ä¿®æ”¹ç¼“å­˜ä¸Šé™ã€‚</p>

<pre><code>-XX:AutoBoxCacheMax=size
</code></pre>

<p>æ‰€ä»¥è¯´å†™ä»£ç çš„æ—¶å€™è¿˜æ˜¯ä¸è¦æŠŠ==ç”¨ä½œå€¼æ¯”è¾ƒã€‚<br/>
Â <br/>
è€å®è¯´è¿™ä¸ªç¼“å­˜ç‰¹æ€§å¸¦æ¥çš„ä¸ä¸€è‡´æ€§è¦æ˜¯å¯¼è‡´äº†ä»€ä¹ˆBUGå®åœ¨å¾ˆéš¾æ’æŸ¥ã€‚å½“ç”¨äº†è¿™ä¸ªç‰¹æ€§å†™äº†ç‚¹ä»€ä¹ˆä¹‹åï¼Œéš¾ä¿åæ¥è€…ä¸ä¼šäº§ç”Ÿè¿·æƒ‘ã€‚æ‰€ä»¥æ—¥å¸¸ç¼–ç ä¸­è¿˜æ˜¯å°½é‡é¿å¼€è¿™ä¸ªç‚¹ã€‚<br/>
Â <br/>
ç®€å•åˆ°çˆ†çš„å®éªŒä»£ç ï¼š<br/>
ç®€å•åœ°éªŒè¯Java Integerç¼“å­˜ç‰¹æ€§</p>

<pre><code>import com.sun.istack.internal.NotNull;
Â 
/**
 * Created by Lawrence on 15/11/9.
 */
public class Main {
Â Â Â Â public static void main(String[] argv){
Â Â Â Â Â Â Â Â Integer int1 = 100;
Â Â Â Â Â Â Â Â Integer int2 = 100;
Â 
Â Â Â Â Â Â Â Â if(int1==int2){
Â Â Â Â Â Â Â Â Â Â Â Â print(&quot;int1 is equal to int2&quot;);
Â Â Â Â Â Â Â Â } else {
Â Â Â Â Â Â Â Â Â Â Â Â print(&quot;int1 is not equal to int2&quot;);
Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â // prints &quot;int1 is equal to int2&quot;
Â 
Â Â Â Â Â Â Â Â Integer int3 = 2333;
Â Â Â Â Â Â Â Â Integer int4 = 2333;
Â 
Â Â Â Â Â Â Â Â if(int3==int4){
Â Â Â Â Â Â Â Â Â Â Â Â print(&quot;int3 is equal to int4&quot;);
Â Â Â Â Â Â Â Â } else {
Â Â Â Â Â Â Â Â Â Â Â Â print(&quot;int3 is not equal to int4&quot;);
Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â // prints &quot;int3 is not equal to int4&quot;
Â 
Â Â Â Â Â Â Â Â Integer int5 = 100;
Â Â Â Â Â Â Â Â Integer int6 = new Integer(100);
Â 
Â Â Â Â Â Â Â Â if(int5==int6){
Â Â Â Â Â Â Â Â Â Â Â Â print(&quot;int5 is equal to int6&quot;);
Â Â Â Â Â Â Â Â } else {
Â Â Â Â Â Â Â Â Â Â Â Â print(&quot;int5 is not equal to int6&quot;);
Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â // prints &quot;int5 is not equal to int6&quot;
Â Â Â Â }
Â 
Â Â Â Â public static void print(String str){
Â Â Â Â Â Â Â Â System.out.println(str);
Â Â Â Â }
Â 
}
</code></pre>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[JavaScript å®šä¹‰ class çš„ä¸€ç§è§£å†³æ–¹æ¡ˆ]]></title>
    <link href="http://www.imlc.me/14749714760420.html"/>
    <updated>2016-09-27T18:17:56+08:00</updated>
    <id>http://www.imlc.me/14749714760420.html</id>
    <content type="html"><![CDATA[
<p>è¿™æ˜¯ç”±è·å…°ç¨‹åºå‘˜ Gabor de Mooij æå‡ºçš„ä¸€ç§æ¯”è¾ƒç®€å•çš„æ–¹æ³•ã€‚Gabor de Mooij ç§°ä¹‹ä¸º minimalist approachã€‚ç°æ‘˜å½•å¦‚ä¸‹ï¼š</p>

<h5 id="toc_0">å®šä¹‰ä¸€ä¸ª Foo ç±»</h5>

<pre><code>var Foo = {
    createNew: function(){
        var instance = {};
        instance.description = &quot;A new class instance&quot;;
        instance.bar = function() { console.log(instance.description)};
        return instance;
    }
}
</code></pre>

<h5 id="toc_1">åˆ›å»ºä¸€ä¸ª Foo å®ä¾‹</h5>

<pre><code>var foo = Foo.createNew();
foo.bar();
</code></pre>

<h5 id="toc_2">ç±»çš„ç»§æ‰¿</h5>

<pre><code>var NewFoo = {
    createNew = function(){
        var instance = Foo.createNew();
        instance.title = &quot;A new title&quot;;
        instance.newBar = function(){
            alert(instance.description);
        };
    }
}
</code></pre>

<h5 id="toc_3">ç§æœ‰æ–¹æ³•å’Œå±æ€§</h5>

<pre><code>var Foo = {
    createNew: function(){
        var instance = {};
        instance.description = &quot;A new class instance&quot;; //description æ˜¯ç§æœ‰çš„ï¼Œåªæœ‰é€šè¿‡ bar() æ¥è®¿é—®
        instance.bar = function() { console.log(instance.description)};
        return instance;
    }
}
</code></pre>

<h5 id="toc_4">é™æ€æˆå‘˜å˜é‡</h5>

<pre><code>var Foo = {
    id: 101010; // id åœ¨å¤šä¸ªå®ä¾‹é—´å…±äº«
    createNew: function(){
        var instance = {};
        instance.description = &quot;A new class instance&quot;; //description æ˜¯ç§æœ‰çš„ï¼Œåªæœ‰é€šè¿‡ bar() æ¥è®¿é—®
        instance.bar = function() { console.log(instance.description)};
        return instance;
    }
}

var foo1 = Foo.createNew();
var foo2 = Foo.createNew();
foo2.id = 233333;
console.log(&quot;Foo id:&quot;+foo1.id);

</code></pre>

]]></content>
  </entry>
  
</feed>
